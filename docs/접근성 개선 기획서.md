# 접근성 개선 기획서

**작성일**: 2025-12-04
**목표**: WCAG 2.1 AA 수준 접근성 확보

## 📋 현재 상태

### 빌드 경고 (총 16개)

#### 1. Playlist.svelte (2개)
- **Line 544**: `<div>` 클릭 이벤트 - 키보드 이벤트 핸들러 필요
- **Line 544**: `<div>` 클릭 핸들러 - ARIA role 필요

#### 2. PlaylistForm.svelte (6개)
- **Line 26**: modal-backdrop `<div>` - 키보드 이벤트 핸들러 필요
- **Line 26**: modal-backdrop `<div>` - ARIA role 필요
- **Line 27**: modal `<div>` - 키보드 이벤트 핸들러 필요
- **Line 27**: modal `<div>` - ARIA role 필요
- **Line 32**: `<label>` - 입력 필드와 연결 필요
- **Line 41**: `<label>` - 입력 필드와 연결 필요

#### 3. TrackForm.svelte (6개)
- **Line 68**: modal-backdrop `<div>` - 키보드 이벤트 핸들러 필요
- **Line 68**: modal-backdrop `<div>` - ARIA role 필요
- **Line 69**: modal `<div>` - 키보드 이벤트 핸들러 필요
- **Line 69**: modal `<div>` - ARIA role 필요
- **Line 73**: `<label>` - 입력 필드와 연결 필요
- **Line 181**: `<label>` - 입력 필드와 연결 필요
- **Line 195**: `<label>` - 입력 필드와 연결 필요

#### 4. TrackList.svelte (2개)
- **Line 207**: `<label>` - 입력 필드와 연결 필요
- **Line 221**: `<label>` - 입력 필드와 연결 필요

## 🎯 개선 계획

### Phase 1: 클릭 가능한 요소 (4개 파일, 8개 이슈)

#### 1.1 Playlist.svelte
```svelte
<!-- Before -->
<div
  class="playlist-item"
  onclick={() => selectPlaylist(playlist)}
>

<!-- After -->
<button
  type="button"
  class="playlist-item"
  onclick={() => selectPlaylist(playlist)}
  aria-label={`Select playlist: ${playlist.name}`}
>
```

**변경 사항**:
- `<div>` → `<button type="button">`
- `aria-label` 추가
- CSS 조정 (button 스타일 초기화)

#### 1.2 Modal 컴포넌트 (PlaylistForm, TrackForm)
```svelte
<!-- Before -->
<div class="modal-backdrop" onclick={onClose}>
  <div class="modal" onclick={(e) => e.stopPropagation()}>

<!-- After -->
<div
  class="modal-backdrop"
  onclick={onClose}
  onkeydown={(e) => e.key === 'Escape' && onClose()}
  role="button"
  tabindex="0"
  aria-label="Close modal"
>
  <div
    class="modal"
    onclick={(e) => e.stopPropagation()}
    role="dialog"
    aria-modal="true"
  >
```

**변경 사항**:
- `role="button"` 추가 (backdrop)
- `role="dialog"` + `aria-modal="true"` 추가 (modal)
- `onkeydown` 핸들러 추가 (Escape 키)
- `tabindex="0"` 추가

### Phase 2: Label-Input 연결 (3개 파일, 8개 이슈)

#### 2.1 PlaylistForm.svelte
```svelte
<!-- Before -->
<label>플레이리스트 이름</label>
<input type="text" value={name} />

<!-- After -->
<label for="playlist-name">플레이리스트 이름</label>
<input id="playlist-name" type="text" value={name} />
```

**적용 대상**:
- 플레이리스트 이름 input
- 설명 textarea

#### 2.2 TrackForm.svelte
```svelte
<!-- Before -->
<label>YouTube 링크 또는 비디오 ID</label>
<input type="text" />

<!-- After -->
<label for="track-youtube-url">YouTube 링크 또는 비디오 ID</label>
<input id="track-youtube-url" type="text" />
```

**적용 대상**:
- YouTube 링크 input
- 시작 시간 input
- 종료 시간 input

#### 2.3 TrackList.svelte
```svelte
<!-- Before -->
<label>시작 시간 (초)</label>
<input type="number" />

<!-- After -->
<label for="track-start-{trackIndex}">시작 시간 (초)</label>
<input id="track-start-{trackIndex}" type="number" />
```

**적용 대상**:
- 시작 시간 input (동적 ID)
- 종료 시간 input (동적 ID)

### Phase 3: 추가 접근성 개선 (선택사항)

#### 3.1 포커스 관리
- 모달 열릴 때 첫 번째 input으로 포커스 이동
- 모달 닫힐 때 이전 포커스 복원

#### 3.2 ARIA Live Regions
- 힌트 표시 시 스크린 리더 알림
- 점수 업데이트 시 알림
- Toast 메시지 알림

#### 3.3 키보드 내비게이션
- Tab 순서 최적화
- 플레이리스트 목록 방향키 이동

## 📊 작업 우선순위

| 작업 | 파일 수 | 이슈 수 | 예상 시간 |
|------|--------|---------|-----------|
| Phase 1: 클릭 요소 | 2 | 8 | 30분 |
| Phase 2: Label 연결 | 3 | 8 | 20분 |
| Phase 3: 추가 개선 | - | - | 30분 |
| **총계** | **5** | **16** | **1-1.5시간** |

## 🧪 테스트 계획

### 빌드 테스트
```bash
npm run build
# 접근성 경고 0개 확인
```

### 수동 테스트
1. **키보드 내비게이션**
   - Tab으로 모든 인터랙티브 요소 접근 가능
   - Enter/Space로 버튼 동작
   - Escape로 모달 닫기

2. **스크린 리더 테스트**
   - 모든 버튼에 적절한 레이블
   - 모달 열림/닫힘 알림
   - 폼 입력 필드 레이블 읽기

3. **시각적 확인**
   - 포커스 스타일 확인
   - CSS 변경 사항 확인

## 📝 구현 체크리스트

### Phase 1
- [ ] Playlist.svelte - div → button 변경
- [ ] PlaylistForm.svelte - modal backdrop/dialog 접근성
- [ ] TrackForm.svelte - modal backdrop/dialog 접근성

### Phase 2
- [ ] PlaylistForm.svelte - label-input 연결 (2개)
- [ ] TrackForm.svelte - label-input 연결 (3개)
- [ ] TrackList.svelte - label-input 연결 (2개)

### Phase 3 (선택)
- [ ] 모달 포커스 관리
- [ ] ARIA live regions
- [ ] 키보드 내비게이션 개선

## 🎯 예상 결과

- ✅ 빌드 경고 16개 → 0개
- ✅ WCAG 2.1 AA 수준 달성
- ✅ 키보드만으로 전체 앱 사용 가능
- ✅ 스크린 리더 완벽 지원
- ✅ 코드 품질 향상

## 📚 참고 자료

- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Svelte Accessibility](https://svelte.dev/docs/accessibility-warnings)
- [ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
