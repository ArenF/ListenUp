# ListenUp! 개발 TODO 목록

**최종 업데이트**: 2025-12-04
**작성자**: ListenUp! Team

---

## ✅ 완료된 작업

### 1. UI/UX 개선 - 실시간 반응 시스템 🎨 ✅ COMPLETED

**완료일**: 2025-11-28 ~ 2025-11-29
**커밋**: `0ea8042`
**보고서**: `docs/UI-UX 실시간 반응 시스템 구현 보고서.md`

#### 구현 내용
- [x] **정답 시 피드백**
  - ✅ 정답을 맞춘 유저의 네임바가 초록색으로 물들기
  - ✅ 애니메이션: pulse 효과 (1초)
  - ✅ 애니메이션 후 연한 초록색 상태 유지 (라운드 종료까지)

- [x] **오답 시 피드백**
  - ✅ 틀린 유저의 네임바가 붉은색으로 표시
  - ✅ 애니메이션: shake 효과 (0.6초)
  - ✅ 애니메이션 후 연한 빨간색 상태 유지 (라운드 종료까지)

- [x] **답안 제출 애니메이션**
  - ✅ 정답을 입력하면 네임바가 튀어오르는 애니메이션
  - ✅ Bounce 효과: 0.6초 지속

- [x] **점수 증가 애니메이션**
  - ✅ 점수가 올라갈 때 네임바 강조 효과
  - ✅ +점수 텍스트가 떠올라가는 효과 (1.5초)

- [x] **추가 구현 사항**
  - ✅ 라운드별 정답/오답 상태 관리 (Set 자료구조)
  - ✅ 자동 상태 초기화 (prepare-round 이벤트)
  - ✅ 실시간 정답/오답 동기화 (서버 isCorrect 필드 추가)

#### 기술 스택
- ✅ Svelte 5 reactive state
- ✅ CSS animations (keyframes)
- ✅ Socket.IO 이벤트 활용 (`answer-submitted`, `score-updated`, `prepare-round`)

#### 실제 작업 시간
약 3시간 (4개 파일, +333줄)

---

### 2. 힌트 시스템 구현 💡 ✅ COMPLETED

**완료일**: 2025-11-29
**커밋**: `fb6b586`
**보고서**: `docs/힌트 시스템 및 플레이리스트 관리 기능 구현 보고서.md`

#### 구현 내용
- [x] **백엔드 - 데이터 구조**
  - ✅ PlaylistTrack 타입 확장 (hints?: Hint[])
  - ✅ Hint 인터페이스 정의 (showAtSeconds, text)
  - ✅ GameState에 hintTimers 추가

- [x] **서버 - 힌트 전송 로직**
  - ✅ GameService에 힌트 타이머 추가
  - ✅ 라운드 시작 시 힌트 스케줄링
  - ✅ Socket.IO 이벤트: `hint-shown`
  - ✅ 라운드 종료 시 타이머 정리 (메모리 누수 방지)

- [x] **클라이언트 - 힌트 표시**
  - ✅ Hint.svelte 컴포넌트 구현
  - ✅ 그라데이션 배경 (보라색 계열)
  - ✅ fade/scale 애니메이션
  - ✅ 5초 후 자동 사라짐 + 수동 닫기
  - ✅ 힌트 순서 표시 (예: "힌트 1/2")

- [x] **플레이리스트 관리 페이지**
  - ✅ 트랙 추가 시 힌트 입력 UI
  - ✅ 트랙 수정 시 힌트 편집 UI
  - ✅ 정답/힌트 섹션 색상으로 구분
  - ✅ 20개 트랙에 힌트 데이터 추가

#### 실제 작업 시간
약 4시간 (7개 파일 수정)

---

### 3. 힌트 UX 개선 - 리스트 박스 시스템 💡 ✅ COMPLETED

**완료일**: 2025-12-03
**커밋**: `c582b8a`, `ffb50d1`, `def8abc`
**보고서**: `docs/힌트 UX 개선 - 리스트 박스 시스템 구현 보고서.md`

#### 구현 내용
- [x] **힌트 표시 방식 변경**
  - ✅ 중앙 오버레이 → 음량 슬라이더 아래 배치
  - ✅ 자동 사라지지 않고 라운드 종료까지 유지
  - ✅ 모든 힌트를 리스트로 동시 확인 가능

- [x] **HintBar.svelte 컴포넌트**
  - ✅ 숫자 이모지로 힌트 순서 표시 (①②③)
  - ✅ 새 힌트 3초간 하이라이트 (그라데이션 + 펄스)

- [x] **HintsContainer.svelte 컴포넌트**
  - ✅ 고정 높이 (max-height: 200px) + 스크롤
  - ✅ 새 힌트 추가 시 자동 스크롤
  - ✅ 빈 상태 메시지 표시

#### 실제 작업 시간
약 3시간 (6개 파일 수정)

---

### 4. 비디오 재생 구간 커스터마이징 ⏯️ ✅ COMPLETED

**완료일**: 2025-12-01 (추정)
**커밋**: `f5e5760`
**목표**: 플레이리스트 관리자가 각 트랙의 재생 시작/종료 시점을 자유롭게 설정

#### 구현 내용
- [x] **PlaylistTrack 스키마 확장**
  - ✅ `startSeconds?: number`, `endSeconds?: number` 필드 추가

- [x] **YouTube Service 수정**
  - ✅ 커스텀 구간 우선순위 처리 (`youtube.ts:95-102`)
  - ✅ 없으면 자동 계산 (중간 30초)

- [x] **플레이리스트 관리 페이지 UI**
  - ✅ TrackForm.svelte: 재생 구간 설정 섹션 추가
  - ✅ TrackList.svelte: 재생 구간 편집 UI 추가
  - ✅ 시작/종료 시간 입력 필드
  - ✅ placeholder에 자동 계산된 값 표시

#### 실제 작업 시간
약 2시간 (6개 파일 수정)

---

### 5. 정답 후 뮤직비디오 재생 🎬 ✅ COMPLETED

**완료일**: 2025-12-02 (추정)
**커밋**: `872a0dc`, `23b46fa`
**목표**: 라운드 종료 후 정답 영상을 재생하여 플레이어들에게 피드백 제공

#### 구현 내용
- [x] **AnswerPlayer.svelte 컴포넌트 생성**
  - ✅ YouTube Player API 사용
  - ✅ 자동 재생, 음소거 해제 (setVolume: 70%)
  - ✅ 설정된 startSeconds ~ endSeconds 구간만 재생
  - ✅ 완벽한 에러 처리 (2, 5, 100, 101, 150 코드)

- [x] **게임 플로우 통합**
  - ✅ GameRoom.svelte에서 AnswerPlayer 렌더링
  - ✅ round-ended 이벤트 시 게임 플레이어 일시정지/음소거
  - ✅ roundResult에 정답 트랙 정보 전달

- [x] **준비 시스템 구현**
  - ✅ 플레이어 준비 완료 시스템 (markReady)
  - ✅ 호스트 강제 시작 타이머 (canForceStart, forceStartRemaining)

#### 실제 작업 시간
약 3시간 (4개 파일 수정)

---

### 6. 게임 결과 화면 개선 🏆 ✅ COMPLETED

**완료일**: 2025-12-04
**커밋**: 예정
**보고서**: `docs/게임 결과 화면 개선 구현 보고서.md`

#### 구현 내용
- [x] **통계 계산 및 표시**
  - ✅ 플레이어별 순위, 점수, 정답/오답 수
  - ✅ 정답률(%) 계산
  - ✅ 최대 연속 정답 표시
  - ✅ 메달 시스템 (🥇🥈🥉)

- [x] **우승자 발표 애니메이션**
  - ✅ canvas-confetti 폭죽 효과 (2단계)
  - ✅ Svelte Motion spring 점수 카운트업
  - ✅ 트로피 바운스 애니메이션

- [x] **순위 리스트**
  - ✅ 순차적 등장 애니메이션 (100ms 지연)
  - ✅ 상세 통계 표시
  - ✅ 반응형 디자인 (모바일 최적화)

- [x] **게임 하이라이트**
  - ✅ 정답왕 (가장 많은 정답)
  - ✅ 연속왕 (최대 스트릭)
  - ✅ 완벽왕 (전체 정답)
  - ✅ 토글 가능한 UI (Svelte slide 트랜지션)

#### 기술 스택
- ✅ Svelte 5 runes ($state, $derived, $effect, $props)
- ✅ svelte-motion (spring 애니메이션)
- ✅ canvas-confetti (폭죽 효과)
- ✅ CSS keyframe animations (6종)
- ✅ TypeScript 타입 안정성

#### 실제 작업 시간
약 2.5시간 (1개 파일, 660줄로 확장)

---

## 🎯 다음 개선 과제

---

## 🔧 기술적 고려사항

### YouTube Player API 제약
- **임베드 제한**: 일부 비디오는 재생 불가 (150 에러)
  - 현재: 자동 스킵 구현 완료 ✅
  - 추가: 사전 검증 기능 고려

### 성능 최적화
- **힌트 타이머 관리**
  - 라운드 종료 시 모든 setTimeout 정리 필요
  - 메모리 누수 방지

### 상태 관리
- **GameStore 확장**
  - 현재 힌트 상태
  - 정답 영상 재생 상태
  - 애니메이션 상태

---


### 7. 플레이리스트 미리보기 기능 🎵

**목표**: 플레이리스트 관리 시 재생 구간을 실시간으로 미리보기

#### 구현 아이디어

##### 7.1 미리보기 버튼
- [ ] **TrackForm / TrackList에 미리보기 버튼 추가**
  - 재생 구간 설정 옆에 "▶️ 미리보기" 버튼
  - 클릭 시 YouTube Player 모달 열기
  - 설정된 startSeconds ~ endSeconds 구간만 재생

##### 7.2 인라인 플레이어
- [ ] **트랙 목록에 작은 플레이어 추가 (선택)**
  - 각 트랙 옆에 작은 재생 버튼
  - 클릭 시 해당 위치에서 미니 플레이어 표시
  - 다른 트랙 재생 시 자동 정지

##### 7.3 자동 계산 초기화 버튼
- [ ] **"자동 계산으로 초기화" 버튼**
  - startSeconds, endSeconds를 비워서 자동 계산 적용
  - 현재 자동 계산된 값 표시

#### 예상 작업 시간
1-2일

---

### 8. 모바일 반응형 개선 📱

**목표**: 모든 화면에서 모바일 기기 최적화

#### 현재 상태
- 일부 컴포넌트에만 `@media` 쿼리 적용됨
- HintsContainer, HintBar, Toast 등 일부만 반응형

#### 구현 내용

##### 8.1 레이아웃 조정
- [ ] **GameRoom 레이아웃**
  - 데스크톱: 2열 (플레이어 목록 + 게임 영역)
  - 모바일: 1열 (세로 스택)

- [ ] **플레이리스트 관리**
  - 트랙 목록 카드 레이아웃
  - 모바일에서 버튼 크기 확대

##### 8.2 터치 최적화
- [ ] **버튼 크기**
  - 최소 44x44px (iOS 권장 크기)
  - 터치 영역 확대

- [ ] **모바일 입력**
  - 키보드 올라올 때 레이아웃 조정
  - 답안 입력 필드 자동 포커스

##### 8.3 성능 최적화
- [ ] **이미지 최적화**
  - YouTube 썸네일 lazy loading
  - 저해상도 이미지 먼저 로드

#### 예상 작업 시간
2-3일

---

### 9. 접근성 개선 ♿

**목표**: WCAG 2.1 AA 수준 접근성 확보

#### 현재 상태
- 12개의 접근성 경고 존재 (빌드 시)
- 주요 이슈:
  - 클릭 이벤트가 있는 `<div>` 요소
  - `<label>`과 입력 필드 미연결
  - ARIA 속성 누락

#### 구현 내용

##### 9.1 시맨틱 HTML
- [ ] **클릭 가능한 div → button 변경**
  - `role="button"` 추가
  - `onkeydown` 핸들러 추가 (Enter, Space)

- [ ] **label-input 연결**
  - 모든 input에 id 부여
  - label의 for 속성 연결

##### 9.2 ARIA 속성
- [ ] **스크린 리더 지원**
  - `aria-label` 추가 (아이콘 버튼)
  - `aria-live` 영역 설정 (힌트, 점수 업데이트)
  - `aria-hidden` 적절히 사용

##### 9.3 키보드 내비게이션
- [ ] **포커스 관리**
  - Tab 순서 최적화
  - 모달 열릴 때 포커스 이동
  - Escape 키로 모달 닫기

#### 예상 작업 시간
1-2일

---

## 📅 작업 일정

| 작업 | 우선순위 | 예상 기간 | 실제 기간 | 상태 |
|------|---------|----------|----------|------|
| ~~1. UI/UX 실시간 반응~~ | ~~높음~~ | ~~2-3일~~ | **3시간** | ✅ **완료** |
| ~~2. 힌트 시스템~~ | ~~높음~~ | ~~3-4일~~ | **4시간** | ✅ **완료** |
| ~~3. 힌트 UX 개선~~ | ~~높음~~ | ~~-~~ | **3시간** | ✅ **완료** |
| ~~4. 재생 구간 설정~~ | ~~중간~~ | ~~2-3일~~ | **2시간** | ✅ **완료** |
| ~~5. 정답 영상 재생~~ | ~~중간~~ | ~~2-3일~~ | **3시간** | ✅ **완료** |
| ~~6. 게임 결과 화면 개선~~ | ~~중간~~ | ~~2-3일~~ | **2.5시간** | ✅ **완료** |
| 7. 플레이리스트 미리보기 | 낮음 | 1-2일 | - | ⏳ **대기** |
| 8. 모바일 반응형 개선 | 중간 | 2-3일 | - | ⏳ **대기** |
| 9. 접근성 개선 | 낮음 | 1-2일 | - | ⏳ **대기** |

**총 예상 기간**: 약 2주 (남은 작업)

---

## 🎨 추가 개선 아이디어 (차순위)

### UI/UX
- [ ] 다크 모드 지원
- [ ] 모바일 반응형 개선
- [ ] 게임 결과 공유 기능 (스크린샷, 링크)

### 기능
- [ ] 난이도 설정 (힌트 개수, 답안 시간 조절)
- [ ] 리플레이 기능
- [ ] 통계 대시보드 (정답률, 평균 시간 등)

### 소셜
- [ ] 친구 초대 시스템
- [ ] 리더보드 (일간, 주간, 월간)
- [ ] 업적/뱃지 시스템

---

**작성일**: 2025-11-25
**검토 필요**: 구현 전 팀 회의에서 우선순위 재조정
